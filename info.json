---
layout: none
---
{%- comment -%}
ABOUT:

This is a Liquid template allowing us to render to info.json
based on content found in index.yaml. It is put in place in
order to allow a img.shields.io badge dynamically render info
about the latest release of various kinds.

Here is a set of example badges in Markdown for the JupyterHub
Helm chart:

    [![Latest stable release](https://img.shields.io/badge/dynamic/json.svg?label=stable&url=https://jupyterhub.github.io/helm-chart/info.json&query=$.jupyterhub.stable&colorB=orange)](https://jupyterhub.github.io/helm-chart/)
    [![Latest pre release](https://img.shields.io/badge/dynamic/json.svg?label=pre&url=https://jupyterhub.github.io/helm-chart/info.json&query=$.jupyterhub.pre&colorB=orange)](https://jupyterhub.github.io/helm-chart/)
    [![Latest dev release](https://img.shields.io/badge/dynamic/json.svg?label=dev&url=https://jupyterhub.github.io/helm-chart/info.json&query=$.jupyterhub.dev&colorB=orange)](https://jupyterhub.github.io/helm-chart/)

Here is an example rendering of this file:

{
    "jupyterhub":
        {
            "stable": "0.10.1",
            "pre": "0.10.2-beta.1",
            "dev": "0.10.2-beta.1.n008.ha16f87e6",
            "latest": "0.10.2-beta.1.n008.ha16f87e6"
        },
    "binderhub":
        {
            "stable": "",
            "pre": "0.2.0-072.544c0b1",
            "dev": "0.2.0-n361.h6f57706",
            "latest": "0.2.0-n361.h6f57706"
        },
    "pebble":
        {
            "stable": "0.2.2",
            "pre": "0.2.2",
            "dev": "0.2.2-n000.hefa0ee7",
            "latest": "0.2.2-n000.hefa0ee7"
        }
}
{%- endcomment -%}

{%- comment -%}
IMPLEMENTATION LOGIC

all:
    pick the latest created chart...
stable:
    ... with a version without a "-" character in it
pre:
    ... with a version with a "-" character in it and a single "." character
dev aka. latest:
    ... just pick the latest version.
{%- endcomment -%}

{%- assign jupyterhub = site.data.index.entries.jupyterhub | sort: 'created' | reverse -%}
{%- assign binderhub = site.data.index.entries.binderhub | sort: 'created' | reverse -%}
{%- assign pebble = site.data.index.entries.pebble | sort: 'created' | reverse -%}
{%- assign jh_latest = jupyterhub | first -%}
{%- assign bh_latest = binderhub | first -%}
{%- assign pebble_latest = pebble | first -%}


{%- capture "jh_stable_version" -%}
{%- for chart in jupyterhub -%}
    {%- unless chart.version contains "-" -%}
        {{ chart.version }};
    {%- endunless -%}
{%- endfor -%}
{%- endcapture -%}
{%- assign jh_stable_version = jh_stable_version | split: ";" | first -%}

{%- capture "jh_pre_version" -%}
{%- for chart in jupyterhub -%}
    {%- assign dots_count_after_dash = chart.version | split: "-" | shift | first | split: "." | size | minus: 1 -%}
    {%- assign first_char_after_dash = chart.version | split: "-" | shift | first | slice: 0 -%}
    {%- if chart.version contains "-" -%}
        {%- if dots_count_after_dash == 1 -%}
            {%- if first_char_after_dash != "n" -%}
                {{ chart.version }};
            {%- endif -%}
        {%- endif -%}
    {%- else -%}
        {{ chart.version }};
    {%- endif -%}
{%- endfor -%}
{%- endcapture -%}
{%- assign jh_pre_version = jh_pre_version | split: ";" | first -%}


{%- capture "bh_stable_version" -%}
{%- for chart in binderhub -%}
    {%- unless chart.version contains "-" -%}
        {{ chart.version }};
    {%- endunless -%}
{%- endfor -%}
{%- endcapture -%}
{%- assign bh_stable_version = bh_stable_version | split: ";" | first -%}

{%- capture "bh_pre_version" -%}
{%- for chart in binderhub -%}
    {%- assign dots_count_after_dash = chart.version | split: "-" | shift | first | split: "." | size | minus: 1 -%}
    {%- assign first_char_after_dash = chart.version | split: "-" | shift | first | slice: 0 -%}
    {%- if chart.version contains "-" -%}
        {%- if dots_count_after_dash == 1 -%}
            {%- if first_char_after_dash != "n" -%}
                {{ chart.version }};
            {%- endif -%}
        {%- endif -%}
    {%- else -%}
        {{ chart.version }};
    {%- endif -%}
{%- endfor -%}
{%- endcapture -%}
{%- assign bh_pre_version = bh_pre_version | split: ";" | first -%}


{%- capture "pebble_stable_version" -%}
{%- for chart in pebble -%}
    {%- unless chart.version contains "-" -%}
        {{ chart.version }};
    {%- endunless -%}
{%- endfor -%}
{%- endcapture -%}
{%- assign pebble_stable_version = pebble_stable_version | split: ";" | first -%}

{%- capture "pebble_pre_version" -%}
{%- for chart in pebble -%}
    {%- assign dots_count_after_dash = chart.version | split: "-" | shift | first | split: "." | size | minus: 1 -%}
    {%- assign first_char_after_dash = chart.version | split: "-" | shift | first | slice: 0 -%}
    {%- if chart.version contains "-" -%}
        {%- if dots_count_after_dash == 1 -%}
            {%- if first_char_after_dash != "n" -%}
                {{ chart.version }};
            {%- endif -%}
        {%- endif -%}
    {%- else -%}
        {{ chart.version }};
    {%- endif -%}
{%- endfor -%}
{%- endcapture -%}
{%- assign pebble_pre_version = pebble_pre_version | split: ";" | first -%}

{
    "jupyterhub":
        {
            "stable": "{{ jh_stable_version }}",
            "pre": "{{ jh_pre_version }}",
            "dev": "{{ jh_latest.version }}",
            "latest": "{{ jh_latest.version }}"
        },
    "binderhub":
        {
            "stable": "{{ bh_stable_version }}",
            "pre": "{{ bh_pre_version }}",
            "dev": "{{ bh_latest.version }}",
            "latest": "{{ bh_latest.version }}"
        },
    "pebble":
        {
            "stable": "{{ pebble_stable_version }}",
            "pre": "{{ pebble_pre_version }}",
            "dev": "{{ pebble_latest.version }}",
            "latest": "{{ pebble_latest.version }}"
        }
}
